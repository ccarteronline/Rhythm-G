import flash.events.MouseEvent;import flash.events.TouchEvent;import flash.media.Sound;import recorder;import sound_libraries.drums;import sound_libraries.synth_1;import sound_libraries.synth_2;import sound_libraries.misc;function buttonControl(enable:Boolean){		var __root = MovieClip(root);	var prefix:String = "block_";	var soundPrefix:String = "sound_";	var numSquares:Number = 24;	var pressedNum:Number;	var myDrums:drums = new drums();	var mySynth_1:synth_1 = new synth_1();	var mySynth_2:synth_2 = new synth_2();	var miscSounds:misc = new misc();			//		if(enable == true){		initButtons();	}else{		//trace("Buttons have been disabled");		__root.mpcPad.visible = false;	}			function initButtons(){		//trace("buttons are enabled");				//loop through each amount of buttons and create listeners for each		for(var ct:Number=1; ct<= numSquares; ct++){						//assign the numbers and their shadows to each block			__root.mpcPad[prefix + ct].num.text = (ct + ".");			__root.mpcPad[prefix + ct].numUnder.text = (ct + ".");						//event listeners for both first tap, letting go, and if user rolls finger off screen			__root.mpcPad[prefix + ct].addEventListener(TouchEvent.TOUCH_BEGIN, buttonDown);			__root.mpcPad[prefix + ct].addEventListener(TouchEvent.TOUCH_END, buttonUp);			__root.mpcPad[prefix + ct].addEventListener(TouchEvent.TOUCH_ROLL_OUT, buttonUp);		}//end loop						function buttonDown(e:TouchEvent){			checkFirstRun();			e.currentTarget.gotoAndStop(2);			pressedNum = e.currentTarget.name.substr(6);			manageSoundPlay(pressedNum);			sequenceGod.pushIntoSequence(pressedNum);//handle sequences when user has 					}//end buttondown event															////////		function buttonUp(e:TouchEvent){			e.currentTarget.gotoAndStop(1);			//get the number to pass it into the class functions			var pressedNum = e.currentTarget.name.substr(6);			var loopState = __root.mpcPad[prefix + pressedNum].loopIcon.alpha;			var recordState = __root.mpcPad[prefix + pressedNum].libraryCon.alpha;			var onlineState = __root.mpcPad[prefix + pressedNum].onlineButton.alpha;						//stop the recorded audio if its playing						if(onlineState && loopState){				//do nothing let it loop			}else if(onlineState && shortSoundState){				onlineChannel.stop();			}else if(recordState && loopState){				//do nothing, let it loop			}else if(!shortSoundState){				//do nothing, the short sounds are false let it play			}else if(shortSoundState){				myRecorder.stopAudio(pressedNum);			}												//stop a library sound if user has played it			if(customLib_1){				if(loopState){					//let it loop				}else{					//check if user wants short sounds					if(shortSoundState){						myDrums.stopDrums();//stop playing					}else{						//Do nothing, the sounds play as they are..					}									}							}else if(customLib_2){				if(loopState){					//let it loop				}else{					if(shortSoundState){											}else{						if(shortSoundState){							//stop playing							mySynth_1.stopSound();						}else{							//Do nothing, the sounds play as they are..						}					}									}							}else if(customLib_3){				if(loopState){					//let it loop				}else{					if(shortSoundState){						//stop playing						mySynth_2.stopSynth();					}else{						//Do nothing, the sounds play as they are..					}									}							}else if(customLib_4){				if(loopState){					//let it loop				}else{					if(shortSoundState){						miscSounds.stopMisc();					}else{						//Do nothing, the sounds play as they are..					}									}							}								}//end buttonup				///////	}//end init buttons		function manageSoundPlay(myBlock:Number){		var mySound = this["bank_" + myBlock];		var loopState = __root.mpcPad[prefix + myBlock].loopIcon.alpha;		var onlineState = __root.mpcPad[prefix + myBlock].onlineButton.alpha;				//if the user recorded a sound, play it						if(onlineState && loopState){			onlineChannel = MovieClip(root)["onlineSound_" + myBlock].play(0,9999);		}else if(onlineState){			onlineChannel = MovieClip(root)["onlineSound_" + myBlock].play();		}else if(__root.mpcPad[prefix + myBlock].libraryCon.alpha == 100){			//this block is a recorded sound			if(loopState){				//loop recorded sound				myRecorder.loopRecordedAudio(myBlock);			}else{				//Play recorded sound				if(myRecorder["recordedSoundState_" + myBlock]){					myRecorder.playAudio(myBlock);				}else{					var recordError = new recordErrorBox();					recordError.x = 580.1;					recordError.y = 372.1;					recordError.recText.text = ("You must record audio block " + myBlock + " or switch the Recorded Sound option to off for this block.");					addChild(recordError);										recordError.closeMenu.addEventListener(MouseEvent.CLICK, closeRecordMenu);					function closeRecordMenu(){						removeChild(recordError);					}				}							}						}else if(customLib_1){			if(loopState){				myDrums.loopDrums(myBlock);			}else{				myDrums.playDrums(myBlock);				}					}else if(customLib_2){			if(loopState){				mySynth_1.loopSynth(myBlock);			}else{				mySynth_1.playSynth_1(myBlock);			}					}else if(customLib_3){			if(loopState){				mySynth_2.loopSynth(myBlock);			}else{				mySynth_2.playSynth_2(myBlock);			}					}else if(customLib_4){			if(loopState){				miscSounds.loopMiscSounds(myBlock);			}else{				miscSounds.playMisc(myBlock);			}					}	}//end manage buttons	}//end button control function